{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/inherits\";\nimport React, { Component, useRef } from 'react';\nimport { Modal } from 'reactstrap';\nimport { Document, Page } from 'react-pdf';\nimport getConfig from 'next/config';\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig;\n\nvar API_BASE_URL = \"\".concat(publicRuntimeConfig.BASE_URL, \"/api\");\n\nvar TransactionDocument = function TransactionDocument(_ref) {\n  var dataDocument = _ref.dataDocument;\n  var pdfRef = useRef(null);\n\n  var getLinkToDownload = function getLinkToDownload(document) {\n    var paths = document.uri.split('/');\n    var folder = paths[paths.length - 2];\n\n    if (folder === 'documents') {\n      return \"\".concat(API_BASE_URL, \"/documents/\").concat(document.id, \"/download\");\n    } else if (folder === 'envelopes') {\n      return \"\".concat(API_BASE_URL, \"/documents/\").concat(document.id, \"/download-envelope\");\n    } else {\n      return \"\".concat(API_BASE_URL, \"/documentActions/\").concat(document.id, \"/download\");\n    }\n  };\n\n  return React.createElement(React.Fragment, null, dataDocument.map(function (document, index) {\n    return React.createElement(\"div\", {\n      key: \"document-\".concat(index),\n      className: \"col-md-4 mt-4\"\n    }, React.createElement(\"div\", {\n      className: \"card rounded shadow-sm h-100\"\n    }, React.createElement(\"div\", {\n      className: \"card-body d-flex flex-column justify-content-between\"\n    }, React.createElement(\"div\", {\n      ref: pdfRef,\n      className: \"u-clickable\",\n      style: {\n        cursor: 'default'\n      }\n    }, pdfRef.current && React.createElement(Document, {\n      file: getLinkToDownload(document)\n    }, React.createElement(Page, {\n      pageNumber: 1,\n      width: pdfRef.current.clientWidth\n    }))), React.createElement(\"div\", {\n      className: \"mt-2\"\n    }, React.createElement(\"h6\", {\n      className: \"mb-2\",\n      style: {\n        fontWeight: 500\n      }\n    }, document.title)))));\n  }));\n};\n\nvar TransactionPartiesFileModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TransactionPartiesFileModal, _Component);\n\n  function TransactionPartiesFileModal() {\n    _classCallCheck(this, TransactionPartiesFileModal);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TransactionPartiesFileModal).apply(this, arguments));\n  }\n\n  _createClass(TransactionPartiesFileModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          isShowPartiesFile = _this$props.isShowPartiesFile,\n          toggleModal = _this$props.toggleModal,\n          dataDocument = _this$props.dataDocument;\n      return React.createElement(Modal, {\n        isOpen: isShowPartiesFile,\n        toggle: toggleModal\n      }, React.createElement(\"div\", {\n        className: \"page-button-new\",\n        style: {\n          backgroundColor: '#f6f7f9'\n        }\n      }, React.createElement(\"div\", {\n        className: \"form-add-member\"\n      }, React.createElement(\"div\", {\n        className: \"modal-header modal-header--change\",\n        id: \"bg-gr\"\n      }, React.createElement(\"div\", {\n        className: \"text-center w-100\"\n      }, React.createElement(\"h5\", {\n        className: \"modal-title new-add\",\n        id: \"exampleModalLabel\"\n      }, \"Files\")), React.createElement(\"div\", null, React.createElement(\"button\", {\n        id: \"close-modal\",\n        type: \"button\",\n        className: \"close bg-transparent\",\n        \"data-dismiss\": \"modal\",\n        onClick: function onClick() {\n          return toggleModal();\n        }\n      }, \"\\xD7\"))), dataDocument.length > 0 ? React.createElement(\"div\", {\n        className: \"container mt-2 mb-4\"\n      }, React.createElement(\"div\", {\n        className: \"row\"\n      }, React.createElement(TransactionDocument, {\n        dataDocument: dataDocument\n      }))) : React.createElement(\"div\", {\n        className: \"container mt-3 mb-3\",\n        style: {\n          fontSize: '20px'\n        }\n      }, \"No documents\"))));\n    }\n  }]);\n\n  return TransactionPartiesFileModal;\n}(Component);\n\nexport default TransactionPartiesFileModal;","map":{"version":3,"sources":["/home/thang/Documents/GitHub/link-webapi/client/component/Transaction/TransactionPartiesFileModal.js"],"names":["React","Component","useRef","Modal","Document","Page","getConfig","publicRuntimeConfig","API_BASE_URL","BASE_URL","TransactionDocument","dataDocument","pdfRef","getLinkToDownload","document","paths","uri","split","folder","length","id","map","index","cursor","current","clientWidth","fontWeight","title","TransactionPartiesFileModal","props","isShowPartiesFile","toggleModal","backgroundColor","fontSize"],"mappings":"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","sourcesContent":["import React, { Component, useRef } from 'react'\nimport { Modal } from 'reactstrap'\nimport { Document, Page } from 'react-pdf'\nimport getConfig from 'next/config'\nconst { publicRuntimeConfig } = getConfig()\nconst API_BASE_URL = `${publicRuntimeConfig.BASE_URL}/api`\nconst TransactionDocument = ({ dataDocument }) => {\n  const pdfRef = useRef(null)\n\n  const getLinkToDownload = document => {\n    const paths = document.uri.split('/')\n    const folder = paths[paths.length - 2]\n    if (folder === 'documents') {\n      return `${API_BASE_URL}/documents/${document.id}/download`\n    } else if (folder === 'envelopes') {\n      return `${API_BASE_URL}/documents/${document.id}/download-envelope`\n    } else {\n      return `${API_BASE_URL}/documentActions/${document.id}/download`\n    }\n  }\n\n  return (\n    <>\n      {dataDocument.map((document, index) => (\n        <div key={`document-${index}`} className='col-md-4 mt-4'>\n          <div className='card rounded shadow-sm h-100'>\n            <div className='card-body d-flex flex-column justify-content-between'>\n              <div\n                ref={pdfRef}\n                className='u-clickable'\n                style={{ cursor: 'default' }}\n              >\n                {pdfRef.current && (\n                  <Document file={getLinkToDownload(document)}>\n                    <Page pageNumber={1} width={pdfRef.current.clientWidth} />\n                  </Document>\n                )}\n              </div>\n              <div className='mt-2'>\n                <h6 className='mb-2' style={{ fontWeight: 500 }}>\n                  {document.title}\n                </h6>\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n    </>\n  )\n}\nclass TransactionPartiesFileModal extends Component {\n  render () {\n    const { isShowPartiesFile, toggleModal, dataDocument } = this.props\n    return (\n      <Modal isOpen={isShowPartiesFile} toggle={toggleModal}>\n        <div className='page-button-new' style={{ backgroundColor: '#f6f7f9' }}>\n          <div className='form-add-member'>\n            <div className='modal-header modal-header--change' id='bg-gr'>\n              <div className='text-center w-100'>\n                <h5 className='modal-title new-add' id='exampleModalLabel'>\n                  Files\n                </h5>\n              </div>\n              <div>\n                <button\n                  id='close-modal'\n                  type='button'\n                  className='close bg-transparent'\n                  data-dismiss='modal'\n                  onClick={() => toggleModal()}\n                >\n                  &times;\n                </button>\n              </div>\n            </div>\n            {dataDocument.length > 0 ? (\n              <div className='container mt-2 mb-4'>\n                <div className='row'>\n                  <TransactionDocument dataDocument={dataDocument} />\n                </div>\n              </div>\n            ) : (\n              <div className='container mt-3 mb-3' style={{ fontSize: '20px' }}>\n                No documents\n              </div>\n            )}\n          </div>\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default TransactionPartiesFileModal\n"]},"metadata":{},"sourceType":"module"}