{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/slicedToArray\";\nimport React, { useRef, useState } from 'react';\nimport getConfig from 'next/config';\nimport { Document, Page } from 'react-pdf';\nimport PreviewModal from '../TransactionFilesPage/PreviewModal';\nimport { TransactionRole } from '../../../common/models/Transaction';\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig;\n\nvar API_BASE_URL = \"\".concat(publicRuntimeConfig.BASE_URL, \"/api\");\n\nvar TransactionDocuments = function TransactionDocuments(_ref) {\n  var listDocument = _ref.listDocument;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      document = _useState2[0],\n      setDocument = _useState2[1];\n\n  var pdfRef = useRef(null);\n  return React.createElement(React.Fragment, null, listDocument.map(function (document, index) {\n    return document.role !== TransactionRole.VENDORS && React.createElement(\"div\", {\n      key: \"document-\".concat(index),\n      className: \"col-md-4 mt-4\"\n    }, React.createElement(\"div\", {\n      className: \"card rounded shadow-sm h-100\"\n    }, React.createElement(\"div\", {\n      className: \"card-body d-flex flex-column justify-content-between\"\n    }, React.createElement(\"div\", {\n      ref: pdfRef,\n      className: \"u-clickable app-document-card\",\n      onClick: function onClick() {\n        return setDocument(document);\n      }\n    }, pdfRef.current && React.createElement(Document, {\n      file: \"\".concat(API_BASE_URL, \"/documents/\").concat(document.id, \"/download\")\n    }, React.createElement(Page, {\n      pageNumber: 1,\n      width: pdfRef.current.clientWidth\n    }))), React.createElement(\"div\", {\n      className: \"mt-2\"\n    }, React.createElement(\"h6\", {\n      className: \"mb-2\",\n      style: {\n        fontWeight: 500\n      }\n    }, document.title), document.party && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"app-badge app-badge--light\"\n    }, document.party.name), React.createElement(\"div\", {\n      className: \"mt-3\"\n    }, React.createElement(\"img\", {\n      alt: \"avatar\",\n      src: document.party.avatar || '/static/images/default-avatar.png',\n      className: \"rounded-circle\",\n      style: {\n        height: 30,\n        width: 30\n      }\n    })))))));\n  }), document && React.createElement(PreviewModal, {\n    toggle: function toggle() {\n      return setDocument(null);\n    },\n    document: document\n  }));\n};\n\nexport default TransactionDocuments;","map":{"version":3,"sources":["/home/thang/Documents/GitHub/link-webapi/client/pages/TransactionPartiesPage/TransactionDocuments.js"],"names":["React","useRef","useState","getConfig","Document","Page","PreviewModal","TransactionRole","publicRuntimeConfig","API_BASE_URL","BASE_URL","TransactionDocuments","listDocument","document","setDocument","pdfRef","map","index","role","VENDORS","current","id","clientWidth","fontWeight","title","party","name","avatar","height","width"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,WAA/B;AACA,OAAOC,YAAP,MAAyB,sCAAzB;AACA,SAASC,eAAT,QAAgC,oCAAhC;;iBAEgCJ,SAAS,E;IAAjCK,mB,cAAAA,mB;;AACR,IAAMC,YAAY,aAAMD,mBAAmB,CAACE,QAA1B,SAAlB;;AAEA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,OAAsB;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;;AAAA,kBACjBV,QAAQ,CAAC,IAAD,CADS;AAAA;AAAA,MAC1CW,QAD0C;AAAA,MAChCC,WADgC;;AAEjD,MAAMC,MAAM,GAAGd,MAAM,CAAC,IAAD,CAArB;AAEA,SACE,0CACGW,YAAY,CAACI,GAAb,CACC,UAACH,QAAD,EAAWI,KAAX;AAAA,WACEJ,QAAQ,CAACK,IAAT,KAAkBX,eAAe,CAACY,OAAlC,IACE;AAAK,MAAA,GAAG,qBAAcF,KAAd,CAAR;AAA+B,MAAA,SAAS,EAAC;AAAzC,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AACE,MAAA,GAAG,EAAEF,MADP;AAEE,MAAA,SAAS,EAAC,+BAFZ;AAGE,MAAA,OAAO,EAAE;AAAA,eAAMD,WAAW,CAACD,QAAD,CAAjB;AAAA;AAHX,OAKGE,MAAM,CAACK,OAAP,IACC,oBAAC,QAAD;AACE,MAAA,IAAI,YAAKX,YAAL,wBACFI,QAAQ,CAACQ,EADP;AADN,OAKE,oBAAC,IAAD;AACE,MAAA,UAAU,EAAE,CADd;AAEE,MAAA,KAAK,EAAEN,MAAM,CAACK,OAAP,CAAeE;AAFxB,MALF,CANJ,CADF,EAmBE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAqB,MAAA,KAAK,EAAE;AAAEC,QAAAA,UAAU,EAAE;AAAd;AAA5B,OACGV,QAAQ,CAACW,KADZ,CADF,EAIGX,QAAQ,CAACY,KAAT,IACC,0CACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACGZ,QAAQ,CAACY,KAAT,CAAeC,IADlB,CADF,EAIE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AACE,MAAA,GAAG,EAAC,QADN;AAEE,MAAA,GAAG,EACDb,QAAQ,CAACY,KAAT,CAAeE,MAAf,IACA,mCAJJ;AAME,MAAA,SAAS,EAAC,gBANZ;AAOE,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE,EAAV;AAAcC,QAAAA,KAAK,EAAE;AAArB;AAPT,MADF,CAJF,CALJ,CAnBF,CADF,CADF,CAFJ;AAAA,GADD,CADH,EAqDGhB,QAAQ,IACP,oBAAC,YAAD;AAAc,IAAA,MAAM,EAAE;AAAA,aAAMC,WAAW,CAAC,IAAD,CAAjB;AAAA,KAAtB;AAA+C,IAAA,QAAQ,EAAED;AAAzD,IAtDJ,CADF;AA2DD,CA/DD;;AAiEA,eAAeF,oBAAf","sourcesContent":["import React, { useRef, useState } from 'react'\nimport getConfig from 'next/config'\nimport { Document, Page } from 'react-pdf'\nimport PreviewModal from '../TransactionFilesPage/PreviewModal'\nimport { TransactionRole } from '../../../common/models/Transaction'\n\nconst { publicRuntimeConfig } = getConfig()\nconst API_BASE_URL = `${publicRuntimeConfig.BASE_URL}/api`\n\nconst TransactionDocuments = ({ listDocument }) => {\n  const [document, setDocument] = useState(null)\n  const pdfRef = useRef(null)\n\n  return (\n    <>\n      {listDocument.map(\n        (document, index) =>\n          document.role !== TransactionRole.VENDORS && (\n            <div key={`document-${index}`} className='col-md-4 mt-4'>\n              <div className='card rounded shadow-sm h-100'>\n                <div className='card-body d-flex flex-column justify-content-between'>\n                  <div\n                    ref={pdfRef}\n                    className='u-clickable app-document-card'\n                    onClick={() => setDocument(document)}\n                  >\n                    {pdfRef.current && (\n                      <Document\n                        file={`${API_BASE_URL}/documents/${\n                          document.id\n                        }/download`}\n                      >\n                        <Page\n                          pageNumber={1}\n                          width={pdfRef.current.clientWidth}\n                        />\n                      </Document>\n                    )}\n                  </div>\n                  <div className='mt-2'>\n                    <h6 className='mb-2' style={{ fontWeight: 500 }}>\n                      {document.title}\n                    </h6>\n                    {document.party && (\n                      <>\n                        <div className='app-badge app-badge--light'>\n                          {document.party.name}\n                        </div>\n                        <div className='mt-3'>\n                          <img\n                            alt='avatar'\n                            src={\n                              document.party.avatar ||\n                              '/static/images/default-avatar.png'\n                            }\n                            className='rounded-circle'\n                            style={{ height: 30, width: 30 }}\n                          />\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )\n      )}\n      {document && (\n        <PreviewModal toggle={() => setDocument(null)} document={document} />\n      )}\n    </>\n  )\n}\n\nexport default TransactionDocuments\n"]},"metadata":{},"sourceType":"module"}