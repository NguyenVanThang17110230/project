{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/objectSpread\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/asyncToGenerator\";\nimport { translate } from 'react-i18next';\nimport i18n from '../../common/i18n';\nexport var withI18next = function withI18next() {\n  var namespaces = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['common'];\n  return function (ComposedComponent) {\n    var Extended = translate(namespaces, {\n      i18n: i18n,\n      wait: process.browser\n    })(ComposedComponent);\n\n    Extended.getInitialProps =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(ctx) {\n        var composedInitialProps, i18nInitialProps;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!ComposedComponent.getInitialProps) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 3;\n                return ComposedComponent.getInitialProps(ctx);\n\n              case 3:\n                _context.t0 = _context.sent;\n                _context.next = 7;\n                break;\n\n              case 6:\n                _context.t0 = {};\n\n              case 7:\n                composedInitialProps = _context.t0;\n                i18nInitialProps = ctx.req ? i18n.getInitialProps(ctx.req, namespaces) : {};\n                return _context.abrupt(\"return\", _objectSpread({}, composedInitialProps, i18nInitialProps));\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return Extended;\n  };\n};","map":{"version":3,"sources":["/home/thang/Documents/GitHub/link-webapi/client/hocs/withI18next.js"],"names":["translate","i18n","withI18next","namespaces","ComposedComponent","Extended","wait","process","browser","getInitialProps","ctx","composedInitialProps","i18nInitialProps","req"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,eAA1B;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,MAACC,UAAD,uEAAc,CAAC,QAAD,CAAd;AAAA,SAA6B,UAAAC,iBAAiB,EAAI;AAC3E,QAAMC,QAAQ,GAAGL,SAAS,CAACG,UAAD,EAAa;AAAEF,MAAAA,IAAI,EAAJA,IAAF;AAAQK,MAAAA,IAAI,EAAEC,OAAO,CAACC;AAAtB,KAAb,CAAT,CACfJ,iBADe,CAAjB;;AAIAC,IAAAA,QAAQ,CAACI,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA2B,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACIN,iBAAiB,CAACK,eADtB;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEfL,iBAAiB,CAACK,eAAlB,CAAkCC,GAAlC,CAFe;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,8BAGrB,EAHqB;;AAAA;AACnBC,gBAAAA,oBADmB;AAKnBC,gBAAAA,gBALmB,GAKAF,GAAG,CAACG,GAAJ,GACrBZ,IAAI,CAACQ,eAAL,CAAqBC,GAAG,CAACG,GAAzB,EAA8BV,UAA9B,CADqB,GAErB,EAPqB;AAAA,mEAUpBQ,oBAVoB,EAWpBC,gBAXoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA3B;;AAAA;AAAA;AAAA;AAAA;;AAeA,WAAOP,QAAP;AACD,GArB0B;AAAA,CAApB","sourcesContent":["import { translate } from 'react-i18next'\nimport i18n from '../../common/i18n'\n\nexport const withI18next = (namespaces = ['common']) => ComposedComponent => {\n  const Extended = translate(namespaces, { i18n, wait: process.browser })(\n    ComposedComponent\n  )\n\n  Extended.getInitialProps = async ctx => {\n    const composedInitialProps = ComposedComponent.getInitialProps\n      ? await ComposedComponent.getInitialProps(ctx)\n      : {}\n\n    const i18nInitialProps = ctx.req\n      ? i18n.getInitialProps(ctx.req, namespaces)\n      : {}\n\n    return {\n      ...composedInitialProps,\n      ...i18nInitialProps\n    }\n  }\n\n  return Extended\n}\n"]},"metadata":{},"sourceType":"module"}